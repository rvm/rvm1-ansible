---
- name: RVM Single User Setup
  hosts: all
  gather_facts: false
  remote_user: user
  vars:
    rvm1_user: user
    rvm1_install_path: '/home/{{ rvm1_user }}/.rvm'
    rvm1_rubies:
      - 'ruby-2.6.6'
      - 'ruby-2.7.1'
  roles:
    - role: rvm1-ansible
      become: yes
  tags: setup

- name: RVM Setup Validation
  hosts: all
  gather_facts: false
  remote_user: user
  vars:
    rvm1_install_path: '/home/user/.rvm'
  tasks:
    - import_tasks: assertions.yml
  tags: validate